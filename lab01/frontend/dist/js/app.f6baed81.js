(function(){"use strict";var e={7681:function(e,t,o){var n=o(5130),r=o(6768);function s(e,t){const o=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(o)}var a=o(1241);const l={},i=(0,a.A)(l,[["render",s]]);var d=i,c=o(1387);const u={class:"w-full mt-10 flex justify-center"},p={class:"w-1/2 flex justify-center items-center"},m={class:"w-full"},f=(0,r.Lk)("h1",{class:"font-bold text-2xl text-center mb-5 text-neutral-900"},"TODO",-1),h={class:"flex justify-center gap-x-5"},g={class:"w-1/3 border border-solid border-neutral-900 h-0.5 m-auto mb-5"};function v(e,t,o,s,a,l){const i=(0,r.g2)("TheNavbar"),d=(0,r.g2)("TaskList");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(i),(0,r.Lk)("section",u,[(0,r.Lk)("div",p,[(0,r.Lk)("div",m,[f,(0,r.Lk)("div",h,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.newTask=e),type:"text",class:"form-control block w-1/2 px-4 py-2 text-xl font-normal text-neutral-900 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-neutral-900 focus:bg-white focus:outline-none"},null,512),[[n.Jo,a.newTask]]),(0,r.Lk)("button",{onClick:t[1]||(t[1]=e=>l.addTask()),class:"border rounded px-8 py-2 text-xl bg-green-300 hover:bg-green-500 text-white"}," + Add ")]),(0,r.bF)(d,{onOnEmitCompleted:l.markAsCompleted,onOnEmitDelete:l.deleteTask,list:a.todolist},null,8,["onOnEmitCompleted","onOnEmitDelete","list"]),(0,r.bo)((0,r.Lk)("div",g,null,512),[[n.aG,a.todolistCompleted.length>0]]),(0,r.bF)(d,{onOnEmitDelete:l.deleteTask,list:a.todolistCompleted},null,8,["onOnEmitDelete","list"])])])])],64)}o(4114);const b={id:"todolistContainerNew",class:"mt-10"};function w(e,t,o,n,s,a){const l=(0,r.g2)("Task");return(0,r.uX)(),(0,r.CE)("div",b,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.list,(e=>((0,r.uX)(),(0,r.Wv)(l,{onCompleted:a.handleCompleted,onDelete:a.handleDelete,key:e.id,item:e},null,8,["onCompleted","onDelete","item"])))),128))])}var x=o(4232);const k={class:"flex justify-around gap-x-5"},y=(0,r.Lk)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1),L=[y],C=(0,r.Lk)("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1),j=[C];function E(e,t,o,s,a,l){return(0,r.uX)(),(0,r.CE)("div",{class:(0,x.C4)(["border rounded border-solid border-gray-300 px-4 py-4 text-neutral-900 bg-white shadow-xl w-2/3 flex justify-between mb-5 m-auto",[o.item.completed?"line-through":""]])},[(0,r.Lk)("p",null,(0,x.v_)(o.item.text),1),(0,r.Lk)("div",k,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("svg",{onClick:t[0]||(t[0]=(...e)=>l.emitCompleted&&l.emitCompleted(...e)),xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-green-300 cursor-pointer",viewBox:"0 0 20 20",fill:"currentColor"},L,512)),[[n.aG,!1===o.item.completed]]),((0,r.uX)(),(0,r.CE)("svg",{onClick:t[1]||(t[1]=(...e)=>l.emitDelete&&l.emitDelete(...e)),xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-500 cursor-pointer",viewBox:"0 0 20 20",fill:"currentColor"},j))])],2)}var T={props:{item:{type:Object,default:()=>{}}},methods:{emitCompleted:function(){this.$emit("completed",this.item)},emitDelete:function(){this.$emit("delete",this.item)}}};const O=(0,a.A)(T,[["render",E]]);var A=O,_={name:"TaskList",props:{list:{type:Array,default:()=>[]}},components:{Task:A},emits:["completed","onEmitCompleted","delete","onEmitDelete"],methods:{handleCompleted:function(e){this.$emit("onEmitCompleted",e)},handleDelete:function(e){this.$emit("onEmitDelete",e)}}};const D=(0,a.A)(_,[["render",w]]);var S=D;const X={class:"w-full shadow flex justify-between px-3 py-4"},F=(0,r.Lk)("span",{class:"font-bold text-md px-3 text-neutral-900"},"TODOApp",-1),P={class:"flex justify-between gap-x-4 px-3 text-neutral-900"};function R(e,t,o,n,s,a){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",X,[F,(0,r.Lk)("div",P,[(0,r.bF)(l,{to:{name:"Register"}},{default:(0,r.k6)((()=>[(0,r.eW)("Register a new account")])),_:1}),(0,r.bF)(l,{to:{name:"Login"}},{default:(0,r.k6)((()=>[(0,r.eW)("Switch account")])),_:1})])])}var V={};const U=(0,a.A)(V,[["render",R]]);var W=U,q=o(8355);const z=q.A.create({baseURL:"http://localhost:5000/",headers:{"Content-Type":"application/json",Accept:"application/json"}});var I={name:"Home_",emits:["onEmitCompleted"],components:{TaskList:S,TheNavbar:W},data(){return{newTask:"",todolist:[{id:1,text:"Go to supermarket",completed:!1},{id:2,text:"Write an article",completed:!1}],todolistCompleted:[]}},mounted(){z.get("/api/v1/todo/?completed=false").then((e=>{this.todolist=e.data.items})),z.get("/api/v1/todo/?completed=true").then((e=>{this.todolistCompleted=e.data.items}))},methods:{addTask:function(){const e={text:this.newTask,completed:!1};z.post("/api/v1/todo/",e).then((e=>{this.todolist.push(e.data)})).catch((e=>{console.log(e)})),this.newTask=""},markAsCompleted:function(e){z.post("/api/v1/todo/"+e.todo_id+"/completed/",{completed:!0}).then((e=>{console.log(e.data)})).catch((e=>{console.log(e)})),e.completed=!0,this.todolistCompleted.push(e),this.todolist=this.todolist.filter((t=>t.todo_id!=e.todo_id))},deleteTask:function(e){z.delete("/api/v1/todo/"+e.todo_id+"/").then((e=>{console.log(e.data)})).catch((e=>{console.log(e)})),this.todolist=this.todolist.filter((t=>t.todo_id!=e.todo_id)),this.todolistCompleted=this.todolistCompleted.filter((t=>t.todo_id!=e.todo_id))}}};const M=(0,a.A)(I,[["render",v]]);var $=M;const H={class:"h-screen w-full flex justify-center items-center"},J={class:"w-1/2"},B=(0,r.Lk)("h1",{class:"text-center text-2xl font-bold text-neutral-900"},"Login",-1),G={class:"flex justify-center mt-10"},N=(0,r.Lk)("label",{for:"email-address",class:"sr-only"},"Email address",-1),K={class:"flex justify-center"},Q=(0,r.Lk)("label",{for:"password",class:"sr-only"},"Password",-1),Y={class:"flex justify-center mt-5"},Z={class:"text-center text-neutral-500 mt-5 opacity-60 hover:opacity-100"};function ee(e,t,o,s,a,l){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",H,[(0,r.Lk)("div",J,[B,(0,r.Lk)("div",G,[N,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),id:"email-address",name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-1/2 px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none sm:text-sm",placeholder:"Email address"},null,512),[[n.Jo,a.email]])]),(0,r.Lk)("div",K,[Q,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-1/2 px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none sm:text-sm",placeholder:"Password"},null,512),[[n.Jo,a.password]])]),(0,r.Lk)("div",Y,[(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.handleLogin&&l.handleLogin(...e)),class:"w-1/2 bg-green-400 text-white uppercase py-2 rounded hover:bg-green-500"}," Login ")]),(0,r.Lk)("div",Z,[(0,r.bF)(i,{to:{name:"Register"}},{default:(0,r.k6)((()=>[(0,r.eW)("Create a new Account")])),_:1})])])])}const te=q.A.create({baseURL:"http://localhost:8000/",headers:{"Content-Type":"application/json",Accept:"application/json"}});var oe={data(){return{email:"",password:""}},methods:{handleLogin:function(){te.post("/api/v1/auth/token/",{email:this.email,password:this.password}).then((e=>{sessionStorage.setItem("jwt",e.data.access),this.$router.push({name:"Home_"})}))}}};const ne=(0,a.A)(oe,[["render",ee]]);var re=ne;const se={class:"h-screen w-full flex justify-center items-center"},ae={class:"w-1/2"},le=(0,r.Lk)("h1",{class:"text-center text-2xl font-bold text-neutral-900"},"Register a new account",-1),ie={class:"flex justify-center mt-10"},de=(0,r.Lk)("label",{for:"email-address",class:"sr-only"},"Email address",-1),ce={class:"flex justify-center"},ue=(0,r.Lk)("label",{for:"password",class:"sr-only"},"Password",-1),pe={class:"flex justify-center mt-5"},me={class:"text-center text-neutral-500 mt-5 opacity-60 hover:opacity-100"};function fe(e,t,o,s,a,l){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",se,[(0,r.Lk)("div",ae,[le,(0,r.Lk)("div",ie,[de,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),id:"email-address",name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-1/2 px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none sm:text-sm",placeholder:"Email address"},null,512),[[n.Jo,a.email]])]),(0,r.Lk)("div",ce,[ue,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-1/2 px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none sm:text-sm",placeholder:"Password"},null,512),[[n.Jo,a.password]])]),(0,r.Lk)("div",pe,[(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.handleLogin&&l.handleLogin(...e)),class:"w-1/2 bg-green-400 text-white uppercase py-2 rounded hover:bg-green-500"}," Submit ")]),(0,r.Lk)("div",me,[(0,r.bF)(i,{to:{name:"Register"}},{default:(0,r.k6)((()=>[(0,r.eW)("I have an account already")])),_:1})])])])}var he={data(){return{email:"",password:""}},methods:{handleLogin:function(){te.post("/api/v1/users/register/",{email:this.email,password:this.password}).then((e=>{sessionStorage.setItem("jwt",e.data.access),this.$router.push({name:"Login"})}))}}};const ge=(0,a.A)(he,[["render",fe]]);var ve=ge;const be=[{path:"/",redirect:"/login/"},{path:"/home/",name:"Home_",component:$},{path:"/login/",name:"Login",component:re},{path:"/register/",name:"Register",component:ve}],we=(0,c.aE)({history:(0,c.LA)("/"),routes:be});var xe=we;function ke(){z.interceptors.request.use((function(e){return e["headers"]["Authorization"]="Bearer "+sessionStorage.getItem("jwt"),e}),(function(e){return Promise.reject(e)})),te.interceptors.request.use((function(e){return"/api/v1/users/register/"!=e.url&&(e["headers"]["Authorization"]="Bearer "+sessionStorage.getItem("jwt")),e}),(function(e){return Promise.reject(e)}))}ke(),(0,n.Ef)(d).use(xe).mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,s){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],s=e[c][2];for(var l=!0,i=0;i<n.length;i++)(!1&s||a>=s)&&Object.keys(o.O).every((function(e){return o.O[e](n[i])}))?n.splice(i--,1):(l=!1,s<a&&(a=s));if(l){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,r,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,s,a=n[0],l=n[1],i=n[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(i)var c=i(o)}for(t&&t(n);d<a.length;d++)s=a[d],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(7681)}));n=o.O(n)})();
//# sourceMappingURL=app.f6baed81.js.map